# Day 5: 寄存器与ALU运作  
## 📚 学习目标

- 理解通用寄存器与专用寄存器的区别
- 掌握 ALU 的基本结构与核心功能
- 能描述 ALU 处理加法和逻辑与运算的流程
- 模拟 ALU 运算的流程图设计

---

## 🧠 寄存器：CPU 的高速暂存空间

### 🔧 通用寄存器
- 用于临时存储运算数据和地址
- 命名示例：`R0-R15` (ARM)、`EAX/EBX` (x86)
- 特点：可被程序自由读写

### 🎯 专用寄存器
| 名称 | 功能 |
|------|------|
| 程序计数器 (PC) | 存储下一条指令的内存地址 |
| 栈指针 (SP) | 指向当前栈顶位置 |
| 状态寄存器 (PSW) | 存储进位/溢出/零标志等状态 |
| 指令寄存器 (IR) | 暂存当前正在译码的指令 |

---

## ⚙️ ALU（算术逻辑单元）结构
```![ALU 简易结构](
  ┌───────────────┐
  │  操作数A     │←──寄存器
  ├──────┬────────┤
  │ 加法器│ 逻辑单元 │←─控制信号 (ADD/AND...)
  ├──────┴────────┤
  │ 结果输出      │──→寄存器
  └─────┬─────────┘
        ↓ 设置标志位
  [状态寄存器更新]
)
```


### 核心功能
- **算术运算**：加法、减法（通过补码转换为加法）
- **逻辑运算**：与(AND)、或(OR)、非(NOT)、异或(XOR)
- **位移操作**：逻辑左移/右移、算术右移

---

## 🛠️ ALU 运算流程示例：加法 vs 与运算

### ➕ 加法运算流程图
```plaintext
        ┌─────────┐
        │ 读取操作数 │
        │ A=5,B=3 │
        └───┬──┬──┘
            │  │
    ┌───────┘  └───────┐
    ▼ 选择加法操作(ADD) ▼
        ┌─────────┐
        │ 执行5+3  │
        │ 结果=8   │
        └───┬──────┘
            ▼
  ┌───────────────────┐
  │ 设置标志位        │
  │ - 进位标志=0      │
  │ - 零标志=0       │
  └─────────┬─────────┘
            ▼
    [结果写回目标寄存器]
```

## 🔀 逻辑与运算流程图
```plaintext
        ┌─────────┐
        │ 读取操作数 │
        │ A=1100  │
        │ B=1010  │
        └───┬──┬──┘
            │  │
    ┌───────┘  └───────┐
    ▼ 选择与操作(AND)  ▼
        ┌─────────┐
        │ 逐位与运算 │
        │ 结果=1000 │
        └───┬──────┘
            ▼
  ┌───────────────────┐
  │ 设置标志位        │
  │ - 零标志=0       │
  └─────────┬─────────┘
            ▼
    [结果写回目标寄存器]
```

---
## ✅ 今日小结
- 通用寄存器是程序员的"临时工作台"
- PC/SP/PSW 等专用寄存器保障系统级控制
- ALU 通过组合电路实现高速运算
- 运算结果会同步更新状态寄存器
