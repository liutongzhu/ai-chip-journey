# Day7 综合复习 + 流程图汇总

## 学习目标

- 回顾前6天的重点内容：指令流、数据流、控制流、存储结构、总线结构。
- 理解“从源码到执行”的全过程。
- 帮助新手构建完整的硬件视角思维导图。

---

## 一、回顾知识点汇总

### 1. 指令流（Instruction Flow）

- 源码 -> 汇编 -> 机器码
- 编译器 + 汇编器 + 链接器 -> 可执行文件
- CPU 取指（IF）-> 译码（ID）-> 执行（EX）-> 访存（MEM）-> 写回（WB）

### 2. 数据流（Data Flow）

- 数据从寄存器 / 内存读取
- 运算单元（ALU）处理
- 数据写回寄存器 / 内存
- 数据通路控制：MUX、寄存器堆、ALU、存储器等

### 3. 控制流（Control Flow）

- 控制单元产生信号，控制流水线各阶段工作
- 条件跳转、函数调用影响程序流程
- 分支预测减少控制冒险

### 4. 存储结构

- 存储层级：寄存器 → Cache（L1/L2/L3）→ 主存 → 外存
- 局部性原理：时间局部性、空间局部性
- Cache 替换策略：LRU、FIFO、Random

### 5. 总线结构

- 数据总线：传输数据
- 地址总线：标识地址
- 控制总线：发送控制信号
- DMA、IO 中断等机制实现高效通信

---

## 二、“从源码到执行”的全流程

1. **源代码编写**（C、Java 等高级语言）
2. **编译器优化**（词法分析 -> 语法分析 -> 优化 -> 汇编）
3. **汇编转机器码**（Assembler）
4. **链接生成可执行文件**（Linker）
5. **操作系统加载程序到内存**
6. **CPU 开始执行：**
   - **取指** -> **译码** -> **执行** -> **访存** -> **写回**
7. **执行期间数据在各级存储间流转**
8. **控制逻辑调度指令流程、数据通路**
9. **结果输出、可能触发 IO 中断**

---

## 三、推荐思维导图结构（文字版）

```
从源码到执行
├── 源代码
│   └── 高级语言（C、Java）
├── 编译过程
│   ├── 编译器优化
│   ├── 汇编器
│   └── 链接器
├── 可执行文件
│   └── 加载到内存
├── CPU 执行流程
│   ├── 指令流（IF/ID/EX/MEM/WB）
│   ├── 数据流（寄存器、ALU、Cache）
│   └── 控制流（控制单元、跳转、预测）
├── 存储结构
│   └── 寄存器 -> L1/L2/L3 -> RAM -> SSD
├── 总线与 IO
│   ├── 总线类型（数据/地址/控制）
│   └── 中断与 DMA
```

> 建议使用 XMind、MindNode、draw.io 等工具将上述结构转为图形化思维导图。

---

## 四、新手建议

- 先掌握各模块概念，再梳理联系
- 多看流程图 + 多画 + 多理解
- 关注“数据如何在硬件中流动”
- 不要死记硬背，注重理解流程！

---

## ✅ 本周小结

你已经掌握了一个完整的从源代码到执行的硬件抽象路径。继续学习微架构、编译优化、系统结构，你将进入更深的系统级理解。加油！